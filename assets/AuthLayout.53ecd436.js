import{Q as n,a as r}from"./QInput.c847de5a.js";import{_ as d,o as u,c as m,a,d as t,w as c,Q as p,e as w}from"./index.e55f829b.js";import"./use-dark.5d3b2fd8.js";import"./focus-manager.8e1b27e8.js";var f="/assets/mclogo.c571daeb.jpeg";const h={data(){return{username:null,password:null,isPwd:!0}},methods:{submit(){const o={login:this.username,password:this.password};this.$store.dispatch("user/login",o).then(e=>{this.message=e.success===!0?"":e.message,e.success===!0&&this.$router.replace("/award")}).catch(e=>{console.warn(e)})}},created(){this.$store.dispatch("user/tryAutoLogin").then(o=>{o===!0?this.$router.replace("/award"):this.$router.replace("/")})}},_={class:"column items-center"},b={class:"q-pa-md fixed-center full-width"};function g(o,e,v,V,s,i){return u(),m("div",_,[a("div",null,[t(n,{src:f,width:"50vw",class:"q-mt-xl"})]),a("div",b,[t(r,{class:"q-my-md",label:"username",outlined:"",filled:"",modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=l=>s.username=l)},null,8,["modelValue"]),t(r,{class:"q-mb-md",label:"password",outlined:"",type:s.isPwd?"password":"text",filled:"",modelValue:s.password,"onUpdate:modelValue":e[2]||(e[2]=l=>s.password=l)},{append:c(()=>[t(w,{name:s.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[1]||(e[1]=l=>s.isPwd=!s.isPwd),color:"font"},null,8,["name"])]),_:1},8,["type","modelValue"]),t(p,{class:"q-pa-md full-width",color:"blue-10",label:"Log In",rounded:"",onClick:i.submit},null,8,["onClick"])])])}var q=d(h,[["render",g]]);export{q as default};
