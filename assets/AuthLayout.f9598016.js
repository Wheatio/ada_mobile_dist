import{Q as n}from"./QImg.fc5c74a4.js";import{Q as r}from"./QInput.b14a14d8.js";import{_ as d,o as u,c as m,a as i,d as o,w as c,Q as p,e as w}from"./index.a460bdca.js";import"./use-dark.3b5609db.js";import"./focus-manager.8e1b27e8.js";var f="/mobile/assets/mclogo.c571daeb.jpeg";const h={data(){return{username:null,password:null,isPwd:!0}},methods:{submit(){const t={login:this.username,password:this.password};this.$store.dispatch("user/login",t).then(e=>{this.message=e.success===!0?"":e.message,e.success===!0&&this.$router.replace("/award")}).catch(e=>{console.warn(e)})}},created(){this.$store.dispatch("user/tryAutoLogin").then(t=>{t===!0?this.$router.replace("/award"):this.$router.replace("/")})}},b={class:"column items-center"},_={class:"q-pa-md fixed-center full-width"};function g(t,e,v,V,s,a){return u(),m("div",b,[i("div",null,[o(n,{src:f,width:"50vw",class:"q-mt-xl"})]),i("div",_,[o(r,{class:"q-my-md",label:"username",outlined:"",filled:"",modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=l=>s.username=l)},null,8,["modelValue"]),o(r,{class:"q-mb-md",label:"password",outlined:"",type:s.isPwd?"password":"text",filled:"",modelValue:s.password,"onUpdate:modelValue":e[2]||(e[2]=l=>s.password=l)},{append:c(()=>[o(w,{name:s.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[1]||(e[1]=l=>s.isPwd=!s.isPwd),color:"font"},null,8,["name"])]),_:1},8,["type","modelValue"]),o(p,{class:"q-pa-md full-width",color:"blue-10",label:"Log In",rounded:"",onClick:a.submit},null,8,["onClick"])])])}var P=d(h,[["render",g]]);export{P as default};
